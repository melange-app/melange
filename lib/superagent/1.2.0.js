!function(b){if("object"==typeof exports&&"undefined"!=typeof module){module.exports=b()}else{if("function"==typeof define&&define.amd){define([],b)}else{var a;"undefined"!=typeof window?a=window:"undefined"!=typeof global?a=global:"undefined"!=typeof self&&(a=self),a.superagent=b()}}}(function(){var d,b,a;return(function c(f,k,h){function g(q,n){if(!k[q]){if(!f[q]){var m=typeof require=="function"&&require;if(!n&&m){return m(q,!0)}if(e){return e(q,!0)}var p=new Error("Cannot find module '"+q+"'");throw p.code="MODULE_NOT_FOUND",p}var i=k[q]={exports:{}};f[q][0].call(i.exports,function(l){var o=f[q][1][l];return g(o?o:l)},i,i.exports,c,f,k,h)}return k[q].exports}var e=typeof require=="function"&&require;for(var j=0;j<h.length;j++){g(h[j])}return g})({1:[function(g,h,f){h.exports=i;function i(j){if(j){return e(j)}}function e(k){for(var j in i.prototype){k[j]=i.prototype[j]}return k}i.prototype.on=i.prototype.addEventListener=function(k,j){this._callbacks=this._callbacks||{};(this._callbacks[k]=this._callbacks[k]||[]).push(j);return this};i.prototype.once=function(m,l){var k=this;this._callbacks=this._callbacks||{};function j(){k.off(m,j);l.apply(this,arguments)}j.fn=l;this.on(m,j);return this};i.prototype.off=i.prototype.removeListener=i.prototype.removeAllListeners=i.prototype.removeEventListener=function(n,l){this._callbacks=this._callbacks||{};if(0==arguments.length){this._callbacks={};return this}var m=this._callbacks[n];if(!m){return this}if(1==arguments.length){delete this._callbacks[n];return this}var j;for(var k=0;k<m.length;k++){j=m[k];if(j===l||j.fn===l){m.splice(k,1);break}}return this};i.prototype.emit=function(n){this._callbacks=this._callbacks||{};var k=[].slice.call(arguments,1),m=this._callbacks[n];if(m){m=m.slice(0);for(var l=0,j=m.length;l<j;++l){m[l].apply(this,k)}}return this};i.prototype.listeners=function(j){this._callbacks=this._callbacks||{};return this._callbacks[j]||[]};i.prototype.hasListeners=function(j){return !!this.listeners(j).length}},{}],2:[function(f,g,e){g.exports=function(j,l,k){var i=0;var h=j.length;var m=arguments.length==3?k:j[i++];while(i<h){m=l.call(null,m,j[i],++i,j)}return m}},{}],3:[function(l,f,v){var o=l("emitter");var n=l("reduce");var r="undefined"==typeof window?(this||self):window;function i(){}function p(w){var x={}.toString.call(w);switch(x){case"[object File]":case"[object Blob]":case"[object FormData]":return true;default:return false}}h.getXHR=function(){if(r.XMLHttpRequest&&(!r.location||"file:"!=r.location.protocol||!r.ActiveXObject)){return new XMLHttpRequest}else{try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(w){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(w){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(w){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(w){}}return false};var t="".trim?function(w){return w.trim()}:function(w){return w.replace(/(^\s*|\s*$)/g,"")};function m(w){return w===Object(w)}function q(y){if(!m(y)){return y}var x=[];for(var w in y){if(null!=y[w]){x.push(encodeURIComponent(w)+"="+encodeURIComponent(y[w]))}}return x.join("&")}h.serializeObject=q;function k(C){var A={};var y=C.split("&");var z;var B;for(var x=0,w=y.length;x<w;++x){B=y[x];z=B.split("=");A[decodeURIComponent(z[0])]=decodeURIComponent(z[1])}return A}h.parseString=k;h.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"};h.serialize={"application/x-www-form-urlencoded":q,"application/json":JSON.stringify};h.parse={"application/x-www-form-urlencoded":k,"application/json":JSON.parse};function g(B){var D=B.split(/\r?\n/);var y={};var A;var E;var C;var w;D.pop();for(var x=0,z=D.length;x<z;++x){E=D[x];A=E.indexOf(":");C=E.slice(0,A).toLowerCase();w=t(E.slice(A+1));y[C]=w}return y}function j(w){return w.split(/ *; */).shift()}function u(w){return n(w.split(/ *; */),function(z,B){var y=B.split(/ *= */),x=y.shift(),A=y.shift();if(x&&A){z[x]=A}return z},{})}function e(x,w){w=w||{};this.req=x;this.xhr=this.req.xhr;this.text=((this.req.method!="HEAD"&&(this.xhr.responseType===""||this.xhr.responseType==="text"))||typeof this.xhr.responseType==="undefined")?this.xhr.responseText:null;this.statusText=this.req.xhr.statusText;this.setStatusProperties(this.xhr.status);this.header=this.headers=g(this.xhr.getAllResponseHeaders());this.header["content-type"]=this.xhr.getResponseHeader("content-type");this.setHeaderProperties(this.header);this.body=this.req.method!="HEAD"?this.parseBody(this.text?this.text:this.xhr.response):null}e.prototype.get=function(w){return this.header[w.toLowerCase()]};e.prototype.setHeaderProperties=function(z){var x=this.header["content-type"]||"";this.type=j(x);var y=u(x);for(var w in y){this[w]=y[w]}};e.prototype.parseBody=function(x){var w=h.parse[this.type];return w&&x&&(x.length||x instanceof Object)?w(x):null};e.prototype.setStatusProperties=function(w){if(w===1223){w=204}var x=w/100|0;this.status=w;this.statusType=x;this.info=1==x;this.ok=2==x;this.clientError=4==x;this.serverError=5==x;this.error=(4==x||5==x)?this.toError():false;this.accepted=202==w;this.noContent=204==w;this.badRequest=400==w;this.unauthorized=401==w;this.notAcceptable=406==w;this.notFound=404==w;this.forbidden=403==w};e.prototype.toError=function(){var y=this.req;var A=y.method;var w=y.url;var z="cannot "+A+" "+w+" ("+this.status+")";var x=new Error(z);x.status=this.status;x.method=A;x.url=w;return x};h.Response=e;function s(y,x){var w=this;o.call(this);this._query=this._query||[];this.method=y;this.url=x;this.header={};this._header={};this.on("end",function(){var A=null;var z=null;try{z=new e(w)}catch(C){A=new Error("Parser is unable to parse the response");A.parse=true;A.original=C;return w.callback(A)}w.emit("response",z);if(A){return w.callback(A,z)}if(z.status>=200&&z.status<300){return w.callback(A,z)}var B=new Error(z.statusText||"Unsuccessful HTTP response");B.original=A;B.response=z;B.status=z.status;w.callback(A||B,z)})}o(s.prototype);s.prototype.use=function(w){w(this);return this};s.prototype.timeout=function(w){this._timeout=w;return this};s.prototype.clearTimeout=function(){this._timeout=0;clearTimeout(this._timer);return this};s.prototype.abort=function(){if(this.aborted){return}this.aborted=true;this.xhr.abort();this.clearTimeout();this.emit("abort");return this};s.prototype.set=function(x,y){if(m(x)){for(var w in x){this.set(w,x[w])}return this}this._header[x.toLowerCase()]=y;this.header[x]=y;return this};s.prototype.unset=function(w){delete this._header[w.toLowerCase()];delete this.header[w];return this};s.prototype.getHeader=function(w){return this._header[w.toLowerCase()]};s.prototype.type=function(w){this.set("Content-Type",h.types[w]||w);return this};s.prototype.accept=function(w){this.set("Accept",h.types[w]||w);return this};s.prototype.auth=function(w,x){var y=btoa(w+":"+x);this.set("Authorization","Basic "+y);return this};s.prototype.query=function(w){if("string"!=typeof w){w=q(w)}if(w){this._query.push(w)}return this};s.prototype.field=function(w,x){if(!this._formData){this._formData=new r.FormData()}this._formData.append(w,x);return this};s.prototype.attach=function(y,x,w){if(!this._formData){this._formData=new r.FormData()}this._formData.append(y,x,w);return this};s.prototype.send=function(y){var z=m(y);var x=this.getHeader("Content-Type");if(z&&m(this._data)){for(var w in y){this._data[w]=y[w]}}else{if("string"==typeof y){if(!x){this.type("form")}x=this.getHeader("Content-Type");if("application/x-www-form-urlencoded"==x){this._data=this._data?this._data+"&"+y:y}else{this._data=(this._data||"")+y}}else{this._data=y}}if(!z||p(y)){return this}if(!x){this.type("json")}return this};s.prototype.callback=function(y,w){var x=this._callback;this.clearTimeout();x(y,w)};s.prototype.crossDomainError=function(){var w=new Error("Origin is not allowed by Access-Control-Allow-Origin");w.crossDomain=true;this.callback(w)};s.prototype.timeoutError=function(){var x=this._timeout;var w=new Error("timeout of "+x+"ms exceeded");w.timeout=x;this.callback(w)};s.prototype.withCredentials=function(){this._withCredentials=true;return this};s.prototype.end=function(A){var E=this;var D=this.xhr=h.getXHR();var y=this._query.join("&");var z=this._timeout;var w=this._formData||this._data;this._callback=A||i;D.onreadystatechange=function(){if(4!=D.readyState){return}var G;try{G=D.status}catch(H){G=0}if(0==G){if(E.timedout){return E.timeoutError()}if(E.aborted){return}return E.crossDomainError()}E.emit("end")};var C=function(G){if(G.total>0){G.percent=G.loaded/G.total*100}E.emit("progress",G)};if(this.hasListeners("progress")){D.onprogress=C}try{if(D.upload&&this.hasListeners("progress")){D.upload.onprogress=C}}catch(x){}if(z&&!this._timer){this._timer=setTimeout(function(){E.timedout=true;E.abort()},z)}if(y){y=h.serializeObject(y);this.url+=~this.url.indexOf("?")?"&"+y:"?"+y}D.open(this.method,this.url,true);if(this._withCredentials){D.withCredentials=true}if("GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof w&&!p(w)){var F=h.serialize[this.getHeader("Content-Type")];if(F){w=F(w)}}for(var B in this.header){if(null==this.header[B]){continue}D.setRequestHeader(B,this.header[B])}this.emit("request",this);D.send(w);return this};h.Request=s;function h(x,w){if("function"==typeof w){return new s("GET",x).end(w)}if(1==arguments.length){return new s("GET",x)}return new s(x,w)}h.get=function(w,z,x){var y=h("GET",w);if("function"==typeof z){x=z,z=null}if(z){y.query(z)}if(x){y.end(x)}return y};h.head=function(w,z,x){var y=h("HEAD",w);if("function"==typeof z){x=z,z=null}if(z){y.send(z)}if(x){y.end(x)}return y};h.del=function(w,x){var y=h("DELETE",w);if(x){y.end(x)}return y};h.patch=function(w,z,x){var y=h("PATCH",w);if("function"==typeof z){x=z,z=null}if(z){y.send(z)}if(x){y.end(x)}return y};h.post=function(w,z,x){var y=h("POST",w);if("function"==typeof z){x=z,z=null}if(z){y.send(z)}if(x){y.end(x)}return y};h.put=function(w,z,x){var y=h("PUT",w);if("function"==typeof z){x=z,z=null}if(z){y.send(z)}if(x){y.end(x)}return y};f.exports=h},{emitter:1,reduce:2}]},{},[3])(3)});
